---
import PostLeft from "@components/stalux/posts/postLeft.astro";
import PostContent from "@components/stalux/posts/postContent.astro";
import PostRight from "@components/stalux/posts/postRight.astro";
import PostNavigation from "@components/stalux/posts/postNavigation.astro";
import PostCC from "@components/stalux/posts/postCC.astro";
import layoutStyle from "@styles/components/posts/postLayout.module.css";

interface Props {
    title: string;
    date?: string;
    updated?: string;
    readingTime?: string;
    tags?: string[];
    categories?: string[];
    headings?: Array<{ depth: number; slug: string; text: string }>;
    author?: string;
    authorAvatar?: string;
    prev?: { url: string; title: string };
    next?: { url: string; title: string };
    cc?: string;
}

const {
    title,
    date,
    updated,
    readingTime,
    tags = [],
    categories = [],
    headings = [],
    author = "Author",
    authorAvatar,
    prev,
    next,
    cc,
} = Astro.props;
---

<div class={layoutStyle.postLayout}>
    <div class={layoutStyle.container}>
        <!-- Left Sidebar -->
        <PostLeft author={author} authorAvatar={authorAvatar} />

        <!-- Main Content -->
        <PostContent
            title={title}
            date={date}
            updated={updated}
            readingTime={readingTime}
        >
            <slot />
            <PostCC
                title={title}
                author={author}
                url={Astro.url.href}
                cc={cc}
            />
            <PostNavigation prev={prev} next={next} />
        </PostContent>

        <!-- Right Sidebar -->
        <PostRight headings={headings} tags={tags} categories={categories} />
    </div>
</div>
